<!--
(c) 2003, 2004 xfolio.org, [http://www.ajlsm.com AJLSM], [http://www.strabon.org Strabon] , [http://www.eumedis.net eumedis].
Licence :  [http://www.apache.org/licenses/LICENSE-2.0 Apache].

= WHAT =

How to display text documents in a more fancy web layout ? The templates !
Best process could be, tell your designer to produce the HTML page
he likes, and ask him (or do it) to put tags code where he wants the text and 
also, different widgets that the engine can provide (navigation, searching
and so on).

= HOW =

TODO: 
html or xhtml ?
a namespace or a matcher like @id ?

= WHO =



= CHANGES =

2004-02-17
2004-06-10

frederic.glorieux@ajlsm.com



	syntax:
The included parts are expressed in a very simple namespace

	history:
Come from an xsl becoming a bit too complex to be simple editable layout.

	MAYDO:
A more configurable taglib, for example to choose which meta to display
in menu or with images.

-->
<html xmlns:foo="http://xfolio.org/ns/skin" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-type" content="text/html; charset=UTF-8" />
    <!-- default html style -->
    <!--
		<link rel="stylesheet" type="text/css" href="html.css" />
-->
  </head>
  <body>
    <table id="navbar" width="100%" cellpadding="0" cellspacing="0" border="0">
      <tr>
        <!-- TODO path -->
        <td nowrap="nowrap" align="left">
          <span id="identifier">
            <!-- this tag will be replaced by a clickable URI for the document -->
          </span>
							&#160; 
						<span id="langs" />
						&#160; 
						<span id="formats" />
        </td>
        <td align="right" id="skin">

        </td>
      </tr>
    </table>
    <table>
      <tr>
        <td valign="top" width="25%">
          <div id="toc">
          <!-- 
div[@id='toc'] is the element replaced by the widget.
The content inside is only provide for designers to have an idea of what will be generated.
 -->
          <select style="width:100%">
              <option>
                <i18n:text key="contents">Matières</i18n:text>
              </option>
              <option>
                <i18n:text key="authors">Auteurs</i18n:text>
              </option>
              <option>
                <i18n:text key="index">Index</i18n:text>
              </option>
          </select>
          <!-- onload is a mozilla workaround for 100% resizing 
onload=" if (!this.parentNode) return false; if (!this.parentNode.offsetHeight) return false; this.height=this.parentNode.parentNode.offsetHeight;"
-->
            <iframe height="600" width="100%" name="toc" frameborder="0" src="http://localhost/toc.xhtml">Toc</iframe>
          </div>
        </td>
        <td>
				<div id="article">
            <a name="0">
              <!--   -->
            </a>
            <center>
              <h1 class="title">Fonctionnalités demandées</h1>
            </center>
            <center>
              <h1 class="subtitle">ce que Xfolio pourrait faire</h1>
            </center>
            <div class="signature">Glorieux, Frédéric</div>
            <div class="signature">Boutros, Nader</div>
            <div class="signature">Terray, Paul</div>
            <div class="signature">Sévigny, Martin</div>
            <div class="signature">Brihaye, Pierrick</div>
            <div class="signature">Beillard, André</div>
            <div class="abstract">Cette page ordonne les fonctionnalités souhaitées pour XFolio. Ce n'est pas encore un plan de travail daté, mais au moins une mise en ordre des orientations et priorités de développement de XFolio.</div>
            <div class="abstract">La feuille de route de l'application fait l'objet d'un autre document.</div>
            <p class="spacer">   </p>
            <p class="spacer">   </p>
            <p class="text-body">L'application XFolio est à considérer pour l'instant comme à l'état de test. Elle fonctionne, son architecture prouve globalement la pertinence du concept, mais le périmètre de ses fonctionnalités n'est pas encore arrêté. Cette page est l'endroit pour accueillir les souhaits et propositions de fonctionnalité. Lorsqu'une <a href="http://www.strabon.org/wiki/Wiki.jsp?page=XfolioFeatures" class="">fonctionnalité </a>est considérée comme implantée, alors un <a href="http://www.strabon.org/wiki/Wiki.jsp?page=XfolioBugs" class="">bogue </a>peut lui être reproché. </p>
            <ol>
              <li>compatibilité</li>
            </ol>
            <p class="text-body">2004-06-09 - J'ai travaillé avec une première version d'xfolio, j'y insérais les images directement dans le document traitement de textes. Apparemment, les consignes ont évolué, puisque l'on conseille désormais de les insérer comme lien. Il fut un moment où XFolio me disait "votre image n'est pas insérée comme lien" à la place de mes images. Faudra-t-il nécessairement corriger ses anciens dossiers pour rester compatible avec les nouvelles version d'xfolio ? <a href="http://www.strabon.org/wiki/Wiki.jsp?page=JulieLeFol" class="">Julie LeFol</a>
            </p>
            <p class="text-body">2004-06-10 - La compatibilité arrière est un problème récurrent de développement informatique. Ne vous est-il pas arrivé de ne plus pouvoir ouvrir un ancien fichier avec la nouvelle version d'un logiciel ? La raison aurait voulu que le temps soit laissé de dresser la spécification avant d'effectuer le développement, puis de le prescrire en formation. Pour strabon, cela pouvait aboutir à ce que rien ne soit fait avant la fin du programme. Les partenaires sont entraînés en temps réel dans un processus de recherche et développement, mais tout le monde n'a pas envie d'être "beta-testeur". Pour éviter cet écueil, et surtout de perdre du travail, une attention particulière peut être donnée à la plus grande tolérance sur les multiples formats de dossiers électroniques. Ceci conduit, il faut en être conscient, à doubler ou tripler le temps d'implantation d'une fonctionnalité (tests, retour utilisateur). <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>
            </p>
            <ol>
              <li>validation</li>
            </ol>
            <div class="abstract">XFolio est avant tout un outil de transformations. Il peut fonctionner comme un serveur léger (sur un ordinateur personnel) ou lourd (pour diffusion sur Internet). Il est directement branché sur un dossier de documents sources que des auteurs peuvent éditer en continu. Sa faculté de diffuser en temps réel le résultat de ses transformations peut en faire un outil intéressant de validation. </div>
            <p class="text-body">2004-06-10 - Corollaire du titre précédent (compatibilité), la tolérance au formats obligera à distinguer un mode "diffusion" (très lâche) et un mode "validation" (beaucoup plus strict). Ce mode validation permet d'accroître l'exigence des pratiques afin d'améliorer les traitements possibles sur les documents. <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>
            </p>
            <ol>
              <li>Imports</li>
            </ol>
            <div class="abstract">Xfolio peut facilement importer des formats XML rédactionnels. Son gros intérêt est aussi de supporter le format de textes OpenOffice. D'autres demandes sont faîtes, soit pour d'autres types de ressources (ex: tableaux), soit pour d'autres types de formats (binaires, textuels, commerciaux).</div>
            <dl>
              <dt>2004-06-13, Un import de texte wiki vers OO serait souhaitable <a href="http://www.strabon.org/wiki/Wiki.jsp?page=NaderBoutros" class="">NB</a>
              </dt>
              <dd>2004-06-15 - Explorer le block Chaperon, en standard dans Cocoon 2.1 : il propose une grammaire Wiki <a href="http://www.strabon.org/wiki/Wiki.jsp?page=PierrickBrihaye" class="">PB</a>
                <br />Il existe d'ailleurs des grammaires déjà préparée dans le projet <a href="http://forrest.apache.org/" class="">Forrest</a>
                <img alt="" align="center" border="0" width="6" src="http://www.strabon.org/wiki/images/out.png?size=6" /> -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>.</dd>
              <dt>2004-05-10, images avec zones cliquables (Image maps) </dt>
              <dd>Les images clicables sont une fonctionnalité très agréables de navigation (exemple, une carte pour accéder aux documents qui parlent de telle ou telle région). Le format standard est en HTML, des outils permettent d'édition (généralement commerciaux) permettent de produire de telles pages. Les auteurs XFolio travaillent généralement avec la suite bureautique libre OpenOffice. Cet outil permet aussi de produire des images clicables. XFolio devrait supporter ce format, au moins pour la vue navigable. -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>
              </dd>
              <dt>2004-04-10, Import de documents Microsoft.Word </dt>
              <dd>Beaucoup d'auteurs continuent à rédiger en Word, et ne passent à OpenOffice qu'avec réticence. Le passage à une nouvelle application a l'avantage de penser autrement le traitement de textes et de promouvoir le logiciel libre, cependant, l'import de documents Word pourrait être une fonctionnalité très utile. Ceci repose sur l'utilisation d'en serveur OpenOffice.</dd>
              <dt>2004-04-20, import de tableaux -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=JulieLeFol" class="">Julie LeFol, </a>
                <u>CULTNAT</u>
                <a href="http://www.strabon.org/wiki/Edit.jsp?page=CULTNAT" class="">?</a>
              </dt>
              <dd>XFolio pourrait proposer la navigation dans des données tabulaires. Cela pose encore des difficultés de réflexion éditoriale (une page par enregistrement ? et selon quelle présentation ?).</dd>
            </dl>
            <ol>
              <li>Exports</li>
            </ol>
            <div class="abstract">Xfolio est une boîte à outils de transformation vers de nombreux formats.</div>
            <p class="spacer">   </p>
            <p class="text-body">2004-06-13 - Politique de liens OpenOffice vers Wiki </p>
            <ul>
              <li>URI absolue, pas de poblème </li>
              <li>
                <p class="text-body">URI relative, beaucoup </p>
                <ul>
                  <li>un document OO = nom du document sans extension (et sans liens relatifs ! avec risque de perte d'unicité) </li>
                </ul>
              </li>
            </ul>
            <p class="text-body">-- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=NaderBoutros" class="">NB</a>
              <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>
            </p>
            <dl>
              <dt>2004-05-20, Export VRML -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=NaderBoutros" class="">NB</a>
              </dt>
              <dd>Une première démo de navigation d'une collection d'images peut être imaginée (une salle = un répertoire, un mau = une image). -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=NaderBoutros" class="">NB</a>
                <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>
              </dd>
              <dt>2004-05-15, Export RTF/MS.word </dt>
              <dd>Un composant libre clame savoir le faire avec du XML, jfor. Le projet n'est pas mature, n'a pas résisté aux tests, et le code va être versé dans fop. Voir la solution OpenOffice serveur.</dd>
              <dt>2004-05-01, export PDF compatible arabe avec images embarquées -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=AndréBeillard" class="">André Beillard</a>
              </dt>
              <dd>2004-06-15 - Il n'y a pas de solution rapide à ce problème (en logiciel libre). XFolio a proposé un export PDF limité, avec des problèmes pour l'arabe, et des difficultés pour assurer le lien avec les images. La piste peut être poursuivie, les développeurs Strabon ont des éléments de réponses. La fonctionnalité est momentanément débranchée, pour ne pas décevoir. -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>
                <br />2004-06-15 - A part Itext, qui réclame un autre modèle de construction PDF, seul Batik permet un traitement correct de l'arabe. Peut-on concevoir une transformation des parties en arabe du fichier fo pour les remplacer par du SVG généré par Batik ? <a href="http://www.strabon.org/wiki/Wiki.jsp?page=PierrickBrihaye" class="">PB</a> Est-ce que cela ne conduit pas à alourdir le PDF ? <br />2004-06-15 - Une autre solution est possible, utiliser le moteur OpenOffice. Mais cela posera des problèmes d'installation. L'idéal serait de pouvoir le compiler pour n'avoir qu'un composant ligne de commande d'import/export dans tous les formats qu'il supporte. Ce composant serait d'une très grande utilité pour la communauté libre et d'autres projets qui utilise ces fonctionnalités d'OpenOffice.</dd>
              <dt>2004-05-10, export bureautique avec normalisation de la présentation -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>
              </dt>
              <dd>2004-06-15 - Souvent, la production d'un dossier électronique pour XFolio part de documents bureautiques. Ce format mêle le contenu et la présentation. Même si un auteur ou une équipe conserve un modèle, il devient difficile à terme de conserver la même apparence sur une collection évolutive. Il serait souhaitable d'avoir des scripts pour normaliser la maquette d'un dossier électronique. Mais aussi, XFolio peut proposer l'export de documents bureautiques selon une maquette définie en skin (peut par exemple résoudre rapisement des problèmes comme définition d'un copyright commun, ou proposer un auteur par défaut).</dd>
              <dt>2004-05-10, export bureautique de formats XML rédactionnels (ex Docbook) -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=PierrickBrihaye" class="">Pierrick Brihaye</a>:</dt>
              <dd>2004-06-15 - Xfolio est avant tout une application XML. Elle cherche à harmoniser des documents hétérogènes pour une même présentation électronique. Des partenaires Strabon produisent dans des schémas XML standard comme Docbook. Pour la reprise d'un document par des rédacteurs moins habitués à la rédaction XML, un export bureautique serait utile.</dd>
              <dt>2004-05-10, export d'images en toutes dimensions et formats --<a href="http://www.strabon.org/wiki/Wiki.jsp?page=NaderBoutros" class="">NB </a>
              </dt>
              <dd>2004-05-10, XFolio propose une fonctionnalité de redimensionnement limitée (uniquement pour les images JPG), très coûteuse en performances. Cette fonctionnalité est victime de son succès, elle en demande beaucoup aux machines qui utilisent Xfolio. On peut donc réfléchir à pouvoir utiliser XFolio comme un convertisseur d'image à la demande. Ceci prendra d'autant plus d'intérêt avec l'écriture d'un site statique en temps réel.</dd>
            </dl>
            <ol>
              <li>multilinguisme</li>
            </ol>
            <dl>
              <dt>2004-06-05, notice IPTC multilingue </dt>
              <dd>L'affichage des méta-données d'une image pose des problèmes lorsqu'un document est disponible en plus d'une langue, par exemple, lorsque le titre apparaît en français dans une page en anglais. -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=ChristopherGuillery" class="">Christopher Guillery</a>
                <br />2004-06-10, Le problème n'est pas insurmontable mais repose d'abord sur des consignes respectées de renseignement des champs IPTC, ensuite, des tests seront nécessaires pour assurer la meilleure correspondance des langues (que faire quand seule une notice en anglais est disponible pour afficher l'image dans un texte en russe ?). -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>
                <br />2004-06-13, si la langue du document n'existe pas dans les métas de l'image c'est la langue par défaut des métas de l'image qui sera proposée, alors qu'est ce que c'est la langue par défaut? Tout dépend de la consigne à donner, voici celle que nous préconisons :</dd>
            </dl>
            <ul>
              <li>Champ titre = titre par défaut de l'image de préférence dans la langue par défaut de l'application </li>
              <li>Champ description = </li>
            </ul>
            <ol>
              <li>
                <li>description par défaut </li>
                <li>&lt;ligne vide&gt; </li>
                <li>[langue-iso2char] titre dans la langue ex: [ar]????? ???????? </li>
                <li>description dans la langue </li>
                <li>répéter de 2 à 4 autant qu'il y a de langues ... --<a href="http://www.strabon.org/wiki/Wiki.jsp?page=NaderBoutros" class="">NB</a>
                </li>
              </li>
            </ol>
            <ol>
              <li>Navigation</li>
            </ol>
            <div class="abstract">XFolio limite le périmètre de ses fonctionnalités de navigation aux liens "générables". Autrement dit, dans l'idéal, les pages produites pourraient être installées sur un serveur "statique" (juste des fichiers sans plus besoin de moteurs une fois produits). Ceci n'empêche pas que la génération puisse utiliser des outils puissants comme des bases de données ou des moteurs de recherche.</div>
            <ol>
              <li>
                <li>Typologie des liens</li>
              </li>
            </ol>
            <div class="abstract">Par liens on entends d'abord une portion de texte "clicable" qui mène vers une seule destination. C'est ce qui est le plus communément connu des utilisateurs (et surtout des auteurs). </div>
            <dl>
              <dt>Liens absolus (vers Internet)</dt>
              <dd>Ces liens posent a priori peu de problèmes, ou du moins, la responsabilité de leur réponse est portée par le serveur vers lequel ce lien pointe. On pourrait souhaiter que XFolio vérifie que ces liens répondent, et en informer par une opération de validation.</dd>
              <dt>Liens relatifs (internes à un dossier)</dt>
              <dd>On entends par là les liens qu'un auteur indique lui-même dans son dossier électronique. Ces liens sont solides et peuvent être transformés dans plusieurs formats. Cependant, les problèmes commencent lorsque les auteurs souhaitent revoir le nommage de leurs fichiers et la hiérarchie (problème des chemins). Une premier service d'XFolio pourrait être de rendre un rapport des liens morts (l'intégrité relationnelle attendue est de l'ordre de l'hypertexte, on ne peut pas promettre la rigueur d'une base de données). On peut souhaiter maintenir une base d'identifiants de documents pour pouvoir résoudre un lien mort (si le fichier a gardé son nom), mais la solution parfaite reposera sur la discipline des auteurs (ou alors perdra beaucoup en souplesse).</dd>
              <dt>Liens automatiques (générés par l'environnement)</dt>
              <dd>Les liens automatiques consistent en navigations contextuelles (dossier, précédent/suivant), en gestion des versions (formats, langues, états ?), ou autre services générés automatiquement. on leur demandera au moins d'être fiables.</dd>
              <dt>Liens sémantiques (résolution de protocoles)</dt>
              <dd>Par liens sémantiques on entends des choses comme : lieu, personne, concept, époque... Le balisage est une intention exprimée de l'auteur, selon des protocoles applicatifs définis et documentés (ex: en HTML, "Ce &lt;a href="person:Napoléon&gt;grand homme&lt;/a&gt;...", ou dans ce traitement de textes, "Ce <a href="./person:%20Napoléon" class="">grand homme</a>..."). La résolution de ces protocoles dépends de l'environnement, qui dispose ou non des ressources pour donner plus d'informations (Ce XFolio a-t-il une base de biographies ? Est-il relié à un serveur sémantique ?).</dd>
              <dt>Liens "mous" (Google j'ai de la chance)</dt>
              <dd>Par liens "mous", on entends évidemment pas quelque chose de précis. Mais pour le cas des liens relatifs sans solution (déplacement d'un fichier), Xfolio pourrait proposer des alternatives applicatives (exemple : requête par moteur de recherche interne).</dd>
              <dt>Liens d'indexation</dt>
              <dd>Par liens d'indexation on entends l'enrichissement sémantique que peuvent apporter des composants terminologiques. A la différence des liens mous, on ne se confie pas aveuglément à un serveur mais à des contenus authentifiés et validés par une communauté (exemple : filtrage automatique d'un texte par un thesaurus).</dd>
            </dl>
            <ol>
              <li>
                <li>Implantations souhaitées</li>
              </li>
            </ol>
            <dl>
              <dt>2004-05-10 liens précédent/suivant</dt>
              <dd>Un document dans XFolio apparaît avec une navigation contextuelle permettant d'explorer son dossier. L'ordre dans un dossier étant significatif, il serait souhaitable que chaque page puisse être muni d'un lien précédent/suivant. Cette fonctionnalité apparemment triviale pose cependant des difficultés d'architecture pour ne pas alourdir inutilement les générations.</dd>
              <dt>2004-04-05 Plan du site -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=AndréBeillard" class="">André Beillard</a>
              </dt>
              <dd>Le code est pensé pour facilement donner cette information (arbre de fichier intelligent), mais demande une réflexion sur la circulation actuelle des flux, pour éviter des problèmes de performances. Ceci pourrait être revu suite à l'implantation d'une base de donnée XML. -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=GlorieuxFrederic" class="">FG</a>
              </dd>
              <dt>2004-04-05 - Moteur de recherche -- <a href="http://www.strabon.org/wiki/Wiki.jsp?page=AndréBeillard" class="">André Beillard</a>
              </dt>
              <dd>Le service a l'air simple, mais il ne faut surtout pas en précipiter l'implantation, au risque de perdre des atouts majeurs de XFolio (installation simple et multi-contextes, temps réel). En effet, l'indexation pour la recherche est généralement une opération différée, avec des composants centralisés à configurer. Plusieurs pistes sont à étudier, DBXML (<a href="http://www.strabon.org/wiki/Wiki.jsp?page=Exist" class="">exist</a>), SDX, <u>Lucene</u>
                <a href="http://www.strabon.org/wiki/Edit.jsp?page=Lucene" class="">?</a> (tel qu'implanté avec <u>Cocoon</u>
                <a href="http://www.strabon.org/wiki/Edit.jsp?page=Cocoon" class="">?</a>). L'essentiel est que l'auteur puisse chercher un document modifié sans opération particulière, et qu'un même XFolio puisse servir plusieurs dossiers électronique sans perdre ses index.</dd>
            </dl>
            <ol>
              <li>Types de documents bureautiques</li>
            </ol>
            <p class="text-body">Pour permettre des navigations spécialisées ou d'autres traitements spécifiques, il est intéressant de prévoir des types de documents </p>
            <p class="text-body">bureautiques. La liste inclut (au moins) les articles (document de base), la fiche auteur, la biographie, les lieux géographiques, les glossaires, les définitions (dictionnaires), éventuellement des chronologies, etc. </p>
            <p class="text-body">Pour l'instant, cela doit se matérialiser dans XFolio de cette manière: </p>
            <ul>
              <li>un dossier spécifique pour les déposer </li>
              <li>une <a href="http://www.strabon.org/wiki/Wiki.jsp?page=XfolioFileNames" class="">charte de nommage</a> (peut-être) </li>
              <li>des métadonnées spécifiques (peut-être) </li>
              <li>un léger traitement (affichage et liens par exemple) différent </li>
            </ul>
            <table class="table" id="Tableau1">
              <tr>
                <td>
                  <a href="http://www.strabon.org/wiki/Wiki.jsp?page=NaderBoutros" class="">NaderBoutros</a> : <a href="http://www.strabon.org/wiki/Wiki.jsp?page=XfolioFileNames" class="">charte de nommage</a>
                </td>
              </tr>
            </table>
            <ol>
              <li>Fiche auteur</li>
            </ol>
            <p class="text-body">Depuis tout texte XFolio, il faudrait qu'une fiche auteur (voir typologie des documents...) puisse être ouverte. Pour cela, outre la question de définir le type "fiche auteur", il faut: </p>
            <ul>
              <li>prévoir des métadonnées répétables pour les auteurs </li>
              <li>trouver un mécanisme (charte de nommage ?) qui permet de lier automatique le nom d'un auteur à sa fiche </li>
              <li>implémenter le lier dans XFolio </li>
            </ul>
            <p class="spacer">   </p>
          </div>
        </td>
      </tr>
    </table>
  </body>
</html>
